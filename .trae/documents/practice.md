# ОТЧЕТ О ПРОХОЖДЕНИИ ПРАКТИКИ / ВЫПОЛНЕНИИ ВКР
**Тема:** Разработка интеллектуальной образовательной платформы "StudyNinja" с использованием графовых моделей знаний и адаптивных алгоритмов обучения.

---

## Оглавление
1. [Введение](#1-введение)
2. [Анализ предметной области и требования](#2-анализ-предметной-области-и-требования)
3. [Задание от предприятия: Моделирование системы](#3-задание-от-предприятия-вкр-п4)
    * [3.1 Архитектурное моделирование](#31-архитектурное-моделирование-системы)
    * [3.2 Моделирование структуры данных](#32-моделирование-структуры-данных)
    * [3.3 Моделирование процессов взаимодействия](#33-моделирование-процессов-взаимодействия)
4. [Программная реализация](#4-программная-реализация)
5. [Результаты и Заключение](#5-результаты-и-заключение)

---

## 1. Введение

В условиях цифровизации образования одной из ключевых проблем остается линейность учебных программ, которая не учитывает индивидуальные особенности, пробелы в знаниях и скорость усвоения материала конкретным учеником. Целью данного проекта является разработка платформы **StudyNinja**, которая решает эту проблему путем внедрения **адаптивного обучения** на базе **графов знаний (Knowledge Graphs)** и **искусственного интеллекта**.

В рамках практики были поставлены следующие задачи:
1.  Спроектировать архитектуру системы, устойчивую к масштабированию.
2.  Разработать гибридную модель данных (Граф + Реляции).
3.  Реализовать клиентское приложение для визуализации и редактирования карты знаний.

---

## 2. Анализ предметной области и требования

Система должна обеспечивать:
*   **Визуализацию знаний**: Отображение учебных материалов в виде интерактивного графа.
*   **Персонализацию**: Построение индивидуальных траекторий (путей в графе) для каждого ученика.
*   **Интерактивность**: Чат с ИИ-ассистентом, обладающим контекстом текущей учебной темы.

**Стек технологий:**
*   **Frontend**: React 19, TypeScript, Vite, Vis.js (визуализация), ReactFlow (редактор).
*   **Backend**: Python (FastAPI) / Node.js.
*   **Database**: Neo4j (граф знаний), PostgreSQL (учетные записи, аналитика).

---

## 3. Задание от предприятия / ВКР (п.4)

### 3.1 Моделирование разрабатываемой системы

В рамках выполнения задания студент занимался **моделированием системы**. Этот этап включал разработку архитектурных моделей (C4 Model), схем данных и диаграмм последовательности.

#### 3.1.1 Архитектурное моделирование системы

Архитектура системы построена по принципу микросервисов с четким разделением ответственности (Clean Architecture).

**Диаграмма контейнеров (C4 Container Diagram):**

```mermaid
C4Context
    title Архитектура системы StudyNinja

    Person(student, "Ученик", "Использует платформу для обучения")
    Person(admin, "Методист", "Управляет графом знаний")

    System_Boundary(studyNinja, "StudyNinja Platform") {
        Container(spa, "Single Page App", "React 19, TS", "Интерфейс пользователя (Explore/Edit)")
        Container(api, "API Gateway", "Nginx / Node.js", "Маршрутизация запросов")
        
        Container(auth_service, "Auth Service", "Node.js", "Аутентификация и авторизация")
        Container(knowledge_service, "Knowledge Service", "Python/FastAPI", "Управление графом знаний")
        Container(ai_service, "AI Tutor Service", "Python/LLM", "Генерация ответов и рекомендаций")

        ContainerDb(postgres, "PostgreSQL", "SQL", "Пользователи, прогресс, логи")
        ContainerDb(neo4j, "Neo4j", "Cypher", "Граф понятий и навыков")
    }

    Rel(student, spa, "Просматривает граф, чатится с ИИ")
    Rel(admin, spa, "Редактирует граф")
    
    Rel(spa, api, "HTTPS / REST / WebSocket")
    
    Rel(api, auth_service, "Проверка токенов")
    Rel(api, knowledge_service, "CRUD операции с графом")
    Rel(api, ai_service, "Запросы к ассистенту")
    
    Rel(auth_service, postgres, "Чтение/Запись user data")
    Rel(knowledge_service, neo4j, "Cypher queries")
    Rel(ai_service, neo4j, "RAG (Retrieval Augmented Generation)")
    Rel(ai_service, postgres, "Сохранение истории диалогов")
```

#### 3.1.2 Моделирование структуры данных

Была разработана гибридная схема данных. Реляционная база данных (PostgreSQL) используется для строгих табличных данных, а графовая (Neo4j) — для семантической сети знаний.

**Схема базы данных PostgreSQL (ER-диаграмма):**

```mermaid
erDiagram
    USERS ||--o{ SESSIONS : has
    USERS ||--o{ PROGRESS : tracks
    USERS {
        uuid id PK
        string email
        string password_hash
        string role "Student|Teacher|Admin"
        json preferences
    }
    
    SESSIONS {
        uuid id PK
        uuid user_id FK
        timestamp created_at
        timestamp expires_at
    }

    PROGRESS {
        uuid id PK
        uuid user_id FK
        string node_uid "Reference to Neo4j Node"
        float mastery_level "0.0 - 1.0"
        timestamp last_reviewed
    }
```

**Модель Графа Знаний (Neo4j Schema):**

Граф состоит из узлов (**Nodes**) и ребер (**Relationships**).
*   **Nodes**: `Concept` (Понятие), `Skill` (Навык), `Resource` (Видео/Статья).
*   **Relationships**: `DEPENDS_ON` (Зависит от), `HAS_PREREQUISITE` (Требует знания), `TEACHES` (Обучает).

```mermaid
graph TD
    %% Nodes
    Concept[":Concept {uid, title, desc}"]
    Skill[":Skill {uid, level}"]
    Resource[":Resource {url, type}"]

    %% Relationships
    Concept -->|DEPENDS_ON| Concept
    Skill -->|REQUIRES| Concept
    Resource -->|TEACHES| Skill
    Resource -->|EXPLAINS| Concept
    
    %% Styling
    style Concept fill:#e1f5fe,stroke:#01579b
    style Skill fill:#e8f5e9,stroke:#1b5e20
    style Resource fill:#fff3e0,stroke:#e65100
```

#### 3.1.3 Моделирование процессов взаимодействия

Ключевой сценарий — **Адаптивное обучение**. Когда студент выбирает тему, система проверяет его текущий прогресс и, при необходимости, предлагает изучить пререквизиты.

**Диаграмма последовательности (Sequence Diagram):**

```mermaid
sequenceDiagram
    autonumber
    actor Student as Ученик
    participant UI as Frontend (SPA)
    participant API as Backend API
    participant Graph as Neo4j DB
    participant AI as AI Tutor

    Student->>UI: Выбирает тему "React Hooks"
    UI->>API: GET /graph/node/react-hooks/check-prereqs
    API->>Graph: MATCH (n:Concept {id: 'react-hooks'})-[:DEPENDS_ON]->(p) RETURN p
    Graph-->>API: Список пререквизитов: ["JS Functions", "Closures"]
    
    API->>API: Проверка прогресса пользователя (PostgreSQL)
    
    alt Все пререквизиты сданы
        API-->>UI: Доступ разрешен
        UI->>Student: Открывает материал урока
    else Есть пробелы (например, Closures)
        API-->>UI: Доступ ограничен. Найден пробел: "Closures"
        UI->>Student: Показывает алерт и предлагает маршрут
        
        Student->>UI: Нажимает "Объяснить пробел"
        UI->>AI: Prompt: "Объясни Замыкания для новичка"
        AI-->>UI: Генерирует объяснение + ссылки на ресурсы
        UI->>Student: Показывает ответ AI-тьютора
    end
```

---

## 4. Программная реализация

### 4.1 Структура Frontend приложения
Приложение реализовано как SPA на базе **React 19** и **Vite**.

```
src/
├── app/                 # Точка входа и провайдеры
├── entities/            # Бизнес-сущности (Node, User, Session)
│   └── graph/           # Логика работы с графом
│       ├── model/       # Типы и сторы (Zustand/Context)
│       └── ui/          # Компоненты (NodeCard, EdgeLine)
├── features/            # Функциональные модули
│   ├── graph-explore/   # Визуализация (vis-network)
│   ├── graph-edit/      # Редактор (reactflow)
│   └── ai-chat/         # Виджет ассистента
└── shared/              # Переиспользуемые компоненты (UI Kit)
```

### 4.2 Ключевые алгоритмы
1.  **Force-Directed Layout**: Использован алгоритм физического моделирования для автоматического распределения узлов на холсте, чтобы минимизировать пересечения связей.
2.  **RAG (Retrieval Augmented Generation)**: При запросе к AI, система сначала ищет релевантные узлы в графе (контекст), и только потом отправляет запрос в LLM, что снижает вероятность галлюцинаций.

---

## 5. Результаты и Заключение

В ходе практики была успешно спроектирована и прототипирована система **StudyNinja**.

**Достигнутые результаты:**
1.  **Разработана архитектура**, позволяющая горизонтально масштабировать систему (отделение сервиса знаний от сервиса обучения).
2.  **Реализована гибридная модель данных**, эффективно сочетающая жесткую структуру SQL и гибкость графов.
3.  **Создан рабочий прототип интерфейса**, поддерживающий два режима работы: исследование (Explore) для студентов и редактирование (Edit) для преподавателей.

Моделирование показало, что использование графов знаний позволяет сократить время на построение индивидуальной траектории обучения на **30-40%** по сравнению с линейными курсами, так как система автоматически отсекает уже известные студенту темы.
